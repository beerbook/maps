<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>Beer Map - Austria</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' >
    
  <script src='http://code.jquery.com/jquery-2.1.1.min.js'></script>    
  <script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.css' rel='stylesheet' />
  <style>
     body { margin:0; padding:0; }
     #map { position:absolute; top:0; bottom:0; width:100%; }
  </style>
  
</head>
<body>
  <div id='map'></div>

<script>
// read in JSON files
function readJSON( url, success ) {
  $.get( url, function( data ) {
       console.log( "readJSON success");
       console.log( "type: " + typeof data );
       // console.log( data );
       
       if( typeof data == 'string' ) {
         // convert data to json if returned as "plain" text
         data = JSON.parse( data );
       }
       success( data );
  });
};

//////////////////////
// center points:
//    austria:  47.2000338, 13.199959
//     n: 48.2817813, 15.7632457             

// load in GeoJSON data
var nUrl = 'n.geojson';

L.mapbox.accessToken = 'pk.eyJ1IjoiZ2VyYWxkYmF1ZXIiLCJhIjoic091TFBNOCJ9.LV4KlBAqm0thFqeW60cwEQ';
var map = L.mapbox.map('map', 'examples.map-i86nkdio')
              .setView([48.2817813, 15.7632457], 8);   // use 7 for austria / 8 for province

readJSON( nUrl, function( json ) {
  map.featureLayer.setGeoJSON( json );
});

</script>
</body>
</html>
